# LazyDraw 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
LazyDraw 是一款基于 AI 技术的智能图表生成工具，能够将自然语言描述转换为专业的 Mermaid 图表代码，并提供实时渲染和编辑功能。

### 1.2 目标用户
- **产品经理**：需要快速创建流程图、用户旅程图
- **开发工程师**：需要生成系统架构图、时序图
- **项目经理**：需要制作甘特图、项目进度图
- **技术文档编写者**：需要将文字描述转换为可视化图表
- **学生和教师**：需要制作学习资料中的图表

### 1.3 核心价值主张
- **零学习成本**：用自然语言描述即可生成专业图表
- **多格式支持**：支持多种图表类型和导出格式
- **实时预览**：所见即所得的编辑体验
- **灵活部署**：支持本地部署和云端使用

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 文本转图表
- **输入方式**：
  - 手动输入文本描述
  - 上传文件（.txt, .md, .docx）
  - 支持最大 20,000 字符输入
- **图表类型**：
  - 流程图 (Flowchart)
  - 序列图 (Sequence Diagram)
  - 甘特图 (Gantt Chart)
  - 类图 (Class Diagram)
  - 状态图 (State Diagram)
  - 用户旅程图 (User Journey)
  - 饼图 (Pie Chart)
  - Git 图 (Git Graph)
  - 自动选择（AI 判断最合适类型）

#### 2.1.2 实时渲染与编辑
- **渲染模式**：
  - Mermaid 原生渲染
  - Excalidraw 风格渲染
- **编辑功能**：
  - 实时代码编辑
  - 语法高亮
  - 错误提示
  - 自动补全
- **视图控制**：
  - 缩放（支持鼠标滚轮、快捷键）
  - 平移（鼠标拖拽）
  - 重置视图
  - 全屏模式

#### 2.1.3 导出与分享
- **导出格式**：
  - SVG 矢量图
  - PNG 位图
  - Mermaid 代码
- **分享功能**：
  - 复制代码到剪贴板
  - 生成分享链接（可选）

### 2.2 用户权限管理

#### 2.2.1 免费模式
- 每日 5 次免费生成
- 基础图表类型支持
- 标准导出功能

#### 2.2.2 密码模式
- 输入访问密码后无限使用
- 所有图表类型支持
- 高级导出功能

#### 2.2.3 自定义配置模式
- 配置自己的 AI 服务
- 完全无限制使用
- 支持多模型切换

### 2.3 用户体验功能

#### 2.3.1 界面设计
- **响应式布局**：适配桌面端和移动端
- **暗色/亮色主题**：支持主题切换
- **面板管理**：
  - 左右分栏布局
  - 面板折叠功能
  - 高度调节（小、中、大、特大）
- **快捷键支持**：
  - Ctrl + S：保存
  - Ctrl + Z：撤销
  - Ctrl + Y：重做
  - Ctrl + +/-/0：缩放控制

#### 2.3.2 交互体验
- **加载状态**：显示生成进度
- **错误处理**：友好的错误提示
- **历史记录**：本地存储使用记录
- **使用统计**：显示剩余使用次数

## 3. 非功能需求

### 3.1 性能要求
- **响应时间**：图表生成时间 < 10 秒
- **并发支持**：支持 100+ 并发用户
- **文件大小**：支持最大 10MB 文件上传
- **浏览器兼容**：支持 Chrome、Firefox、Safari、Edge

### 3.2 可用性要求
- **易用性**：新用户 5 分钟内完成首次图表生成
- **可访问性**：支持键盘导航和屏幕阅读器
- **多语言**：支持中文和英文界面

### 3.3 安全要求
- **数据安全**：用户输入内容不存储到服务器
- **API 安全**：API 密钥加密存储
- **访问控制**：支持密码保护和权限管理

### 3.4 可维护性要求
- **模块化设计**：组件化架构，易于扩展
- **错误监控**：完善的错误日志和监控
- **版本管理**：支持版本回滚和更新

## 4. 用户故事

### 4.1 核心用户故事

**作为产品经理，我希望能够：**
- 用自然语言描述用户流程，自动生成流程图
- 快速创建用户旅程图，用于产品规划
- 导出高质量图表用于文档和演示

**作为开发工程师，我希望能够：**
- 将系统架构描述转换为时序图
- 生成 API 调用流程图
- 创建数据库关系图

**作为项目经理，我希望能够：**
- 将项目计划转换为甘特图
- 创建项目里程碑图
- 制作团队协作流程图

### 4.2 边缘用户故事

**作为学生，我希望能够：**
- 将学习笔记转换为知识图谱
- 创建算法流程图
- 制作课程大纲图

**作为技术文档编写者，我希望能够：**
- 将技术文档转换为可视化图表
- 批量处理多个文档
- 保持图表风格一致性

## 5. 成功指标

### 5.1 用户指标
- **用户增长**：月活跃用户数 > 1000
- **用户留存**：7 日留存率 > 30%
- **使用频率**：平均每用户每月使用 > 5 次

### 5.2 产品指标
- **功能使用率**：核心功能使用率 > 80%
- **错误率**：图表生成成功率 > 95%
- **用户满意度**：用户评分 > 4.5/5

### 5.3 技术指标
- **性能指标**：页面加载时间 < 3 秒
- **可用性**：系统可用性 > 99.5%
- **响应时间**：API 响应时间 < 2 秒

## 6. 产品路线图

### 6.1 MVP 版本（1-2 个月）
- 基础文本转图表功能
- 支持 3-5 种核心图表类型
- 简单的渲染和导出功能
- 基础权限管理

### 6.2 V1.0 版本（3-4 个月）
- 完整的图表类型支持
- 双渲染模式（Mermaid + Excalidraw）
- 文件上传功能
- 完整的权限管理系统

### 6.3 V2.0 版本（6-8 个月）
- 批量处理功能
- 模板库和样式定制
- 协作功能（多人编辑）
- API 接口开放

### 6.4 未来规划
- 移动端 App
- 插件生态
- 企业版功能
- AI 模型优化
